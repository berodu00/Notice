{
  "meta": {
    "project": "IT Notice Management System",
    "date": "2025-12-10",
    "prepared_by": "Generated by Gemini AI Assistant"
  },
  "product_overview": "The IT Notice Management System is a web-based platform designed to streamline IT-related notices management by automating the approval, scheduling, and multi-channel distribution process. It integrates with Outlook via MS Graph API for automatic calendar event creation and supports diverse notification channels including email, corporate messenger, portal, and mobile applications to enhance enterprise communication efficiency.",
  "core_goals": [
    "Systematize IT notice registration and approval process through a web-based interface.",
    "Automatically synchronize approved notices with Outlook calendar using MS Graph API to maintain centralized scheduling without affecting individual calendars.",
    "Expand notification channels beyond email by integrating corporate messenger, portal, and mobile app alerts for comprehensive alert delivery.",
    "Provide intuitive dashboards and history tracking for notice approval, sending status, and analytics visualization by department and notice type.",
    "Enable user-friendly features such as scheduled regular and immediate dispatch options, multiple recipient targeting, and completion status updates visually represented in the calendar.",
    "Ensure seamless access for general employees with SSO-based unified view without requiring separate login."
  ],
  "key_features": [
    "Notice registration with parameters including title, content, type (General, System Maintenance, Security), importance level, writer ID, recipients, and schedule with PENDING status.",
    "Detailed approval workflow allowing managers to approve or reject notices with comments and logging approval actions.",
    "Integration with MS Graph API to register approved notices as events in a dedicated Outlook 'IT Notice Schedule' resource calendar queue, separate from personal calendars.",
    "Multi-channel notification dispatch supporting email, GW Messenger, Group Portal, and mobile app (KZ이음), with an extensible API guide for additional channels.",
    "Dashboard providing real-time statistics on approval waiting, scheduled, sent, failed, and completed notices, and graphical summaries by notice type and department.",
    "Notice history management including detailed logs of send status and approval state for traceability.",
    "Support for scheduled regular batch sends (morning 08:30, afternoon 17:30) and immediate send option for urgent notices.",
    "Completion notice handling that updates existing calendar events to a completed status visually rather than resending separate completion emails.",
    "User interface optimized for administrators (back office) including dashboard, approval list, templates for common recipient sets, and for regular users (front office) with calendar timeline views and responsive mobile support."
  ],
  "user_flow_summary": [
    "Admin user logs in and registers a new notice with required details including notice type, importance, affected services, recipients, and scheduled send time or immediate send flag.",
    "The notice becomes PENDING and awaits approval from the assigned manager for the originating department.",
    "Upon approval, the system updates the notice status to APPROVED, logs the approval action, and calls MS Graph API to register the notice schedule event in Outlook.",
    "The system then sends the notice email and multi-channel alerts as configured to recipients.",
    "Users view notices through a SSO-enabled notice dashboard with calendar views showing ongoing and completed notices in distinct colors.",
    "In case of notice completion, admin registers a completion notice linked to the original and updates the calendar event to indicate completion visually without resending emails.",
    "Admins monitor notice approval status, sending status, and history through dashboard cards and detailed logs for operational transparency."
  ],
  "validation_criteria": [
    "All new notices must be created with mandatory fields: title, content, notice type, importance, writer ID, and recipients.",
    "Only PENDING status notices are eligible for approval or rejection by assigned managers with recorded approval logs.",
    "Approved notices must successfully create corresponding events in the Outlook IT Notice resource calendar via MS Graph API.",
    "Scheduled regular sends must aggregate all notices set for the scheduled time into a single email dispatch.",
    "Multi-channel notifications must be sent reliably to specified channels (email, messenger, portal, mobile app) per notice registration.",
    "Dashboard statistics and approval history views must accurately reflect real-time system state including counts by status and type.",
    "Completion notices must update existing calendar events visually to completed status without duplicate mail sends.",
    "The front-end user interface must provide SSO access without requiring additional login and present responsive calendar timeline views.",
    "The system must log and manage all approval and sending actions for traceability and audit purposes."
  ],
  "code_summary": {
    "tech_stack": [
      "Java",
      "Spring Boot 3.2.0",
      "PostgreSQL",
      "JPA",
      "Gradle"
    ],
    "features": [
      {
        "name": "Register Notice",
        "description": "Create a new notice with schedule and status PENDING. Requires title, content, type, importance, writerId.",
        "files": [
          "src/main/java/com/sorin/notice/controller/NoticeController.java",
          "src/main/java/com/sorin/notice/service/NoticeService.java",
          "src/main/java/com/sorin/notice/dto/NoticeDto.java",
          "src/main/java/com/sorin/notice/domain/entity/NoticeMaster.java"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/notices/register": {
              "post": {
                "summary": "Register a new notice",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "$ref": "#/components/schemas/NoticeRegisterRequest"
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Notice registered successfully, returns ID",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "integer",
                          "format": "int64"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "components": {
            "schemas": {
              "NoticeRegisterRequest": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  },
                  "noticeType": {
                    "type": "string",
                    "enum": [
                      "GENERAL",
                      "SYSTEM_MAINTENANCE",
                      "SECURITY"
                    ]
                  },
                  "importance": {
                    "type": "string",
                    "enum": [
                      "LOW",
                      "NORMAL",
                      "HIGH"
                    ]
                  },
                  "writerId": {
                    "type": "string"
                  },
                  "recipients": {
                    "type": "string"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "isRegularSend": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Approve Notice",
        "description": "Approve or Reject a PENDING notice. Updates status and logs approval action. If approved, calls MS Graph Stub.",
        "files": [
          "src/main/java/com/sorin/notice/controller/NoticeController.java",
          "src/main/java/com/sorin/notice/service/NoticeService.java",
          "src/main/java/com/sorin/notice/dto/NoticeDto.java",
          "src/main/java/com/sorin/notice/domain/entity/ApprovalLog.java"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/notices/{noticeId}/approve": {
              "post": {
                "summary": "Approve or Reject a notice",
                "parameters": [
                  {
                    "name": "noticeId",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "integer"
                    }
                  }
                ],
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "$ref": "#/components/schemas/NoticeApproveRequest"
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Processed successfully"
                  }
                }
              }
            }
          },
          "components": {
            "schemas": {
              "NoticeApproveRequest": {
                "type": "object",
                "properties": {
                  "approverId": {
                    "type": "string"
                  },
                  "comments": {
                    "type": "string"
                  },
                  "approved": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Get Notices",
        "description": "Retrieve all notices.",
        "files": [
          "src/main/java/com/sorin/notice/controller/NoticeController.java",
          "src/main/java/com/sorin/notice/service/NoticeService.java"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/notices": {
              "get": {
                "summary": "Get all notices",
                "responses": {
                  "200": {
                    "description": "List of notices",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/NoticeMaster"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "components": {
            "schemas": {
              "NoticeMaster": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "title": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    ]
  }
}
